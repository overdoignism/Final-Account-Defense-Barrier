## 聲明

1.  本程式採取 MIT 授權，屬於免費、開放原始碼的自由軟體，故作者不承擔任何直接與間接責任，請自行評估，能接受再使用。
2.  本程式介面圖形所用字形為 “Zen Antique” 與 “DSEG Font Family (v0.46)” ，皆為 SIL 開放字型授權 v1.1。
3.  特別感謝 Keepass 所提供的安全概念，與 ChatGPT 所提供的部分程式碼。

## 本程式適合誰

*   使用Windows系統。
*   想要用帳號密碼管理程式來管理一些帳號、機密資料。
*   不想付費。
*   信不過任何雲端密碼服務、會連網的管理器、未開源的管理器。
*   擔憂複雜的驗證機制會出錯、額外的裝置會故障。
*   不想安裝、希望能自己掌握與備份所有資料。
*   喜歡單純的事物、老式技術、傳統技術、經典技術。
*   喜歡新世紀福音戰士（與其風格）。
*   怕流行的管理器已成駭客目標、想用冷門的管理器。
*   程式體積極小，你甚至可以把它放到軟碟片上，如果你想的話。

## 操作指南

### 給從 v1.3 升級上來的使用者

*   登入時 KDF 請選擇 Legacy ，登入後建議轉換為 MAGI-Crypt
*   如果欲使用非管理者權限，請使用隨付 No_Admin.bat ，並依照需求修改。

### 開始使用

*   把本程式放到一個準備好的資料夾中。
*   打開程式，會看到一個輸入密碼的介面。想一個安全又記得住的密碼，作為加密密鑰的種子值（Symmetric-key seed）。
*   輸入兩次，按下確認後就可以開始了。
*   在這裡輸入的密碼，會對應到一個目錄（Catalog），而這個目錄就可以包含多個帳號。
*   以後要打開這個目錄，就輸入這個密碼，輸入一次就可。使用不同組的目錄，就輸入不同的密碼。
*   也可以選擇一個檔案來代替密碼（用 Open file 開啟）。與檔名無關，檔案的內容必須是完全相同。

### 基本操作

*   進入後，左邊有一個列表清單，最上方有一個「New account」，點他就代表你要新增帳號。
*   接著將你的帳號資料輸入到右邊欄位中，如果有不明白意思的，可以讓滑鼠停留在上面，會有解釋。
*   只有標題是必填項目。填寫完後按下「保存」，就完成新增了，會出現在左邊的清單中。
*   想要重新排序，可以用上下移動按鈕，長按可以自動移動。
*   想要刪除，就點「Delete」。
*   想切換到別的目錄，用「Logout」鈕，結束則是「Finish」鈕。

### 稍微進階的操作

*   「Launch」的作用：可以放入執行檔或網址，按下就會幫你打開他。
*   「View」的作用：可以看見隱藏的資訊，以免有人窺伺。
*   「Copy」的作用：複製到剪貼簿。
*   「Transfer」的作用：可以把這份帳號資料，移轉到別的目錄（Catalog）下。
*   可到「Catalog Setting and Management」設定目錄名稱。

### 更進階的操作

*   在「Catalog Setting」可設定「Hotkey Input」、「Automatic logout」、「Transfer/Delete」、「CSV import/export」等功能。
*   如果部分網站不能使用「Copy & Paste」輸入，可以在「Sendkey override」指定個別帳號使用「Sendkey」模式。
*   在登入畫面可以啟用「A.T. Field」功能來強化程式安全。（註1）
*   點選「Security Check」可以得到一份安全檢查報告。
*   如果有以「非管理者權限」執行的需求，請使用隨付 No_Admin.bat ，並依照需求修改。

### 與加密貨幣有關的操作

*   輸入BIP39助記詞時無須輸入二次驗證，會自動檢查。
*   儲存前會自動檢測一定程度的加密貨幣地址錯誤。目前有效的為 BTC（TRX、Doge、LTC）、ETH與上述貨幣的相容地址。

### 備份操作、[CSV輸入輸出操作](CSV_ZHTW.md)

*   一般而言，把主程式連同產生的資料夾與檔案複製起來即可。看是放壓縮檔、放隨身碟、還是放雲端都可以。
*   關於CSV輸出入請見「[CSV輸入輸出](CSV_ZHTW.md)」篇章。

### 命令列參數整理

1.  「NOSECDESK」關閉安全桌面。（與某些防毒軟體衝突時使用）
2.  「ALLOWCAP」允許畫面擷取。（需要使用遠端遙控軟體時使用）
3.  「OPACITY:nn」設置窗口的不透明度（100 = 完全不透明（預設值））。
4.  「SALT:xx..」設置加鹽，可用空白鍵與冒號外的任意文字。
5.  「LANG:filename」載入自訂語言檔案。（僅限純文字訊息有效）
6.  「KDF:n」設定預設 KDF 模式（1 = MAGI-Crypt ／ 2 = Leagcy (v1.3) ／ 3 = RFC2898）

## 給開發者

### 關於自訂語言檔案

1.   如果想製作自訂語言檔案，首先請找到 \Final Account Defense Barrier\AllResource\Load as Bin\TXTFile\LanguageFile.csv 。
2.   從試算表軟體提取其中一個欄（column）位儲存為純文字檔。
3.   翻譯後存為純文字文件，不需要包含CSV格式。
4.   如果有空行，請保留。

### 關於 TXTFile.zip

*   用於存放純文字資料，推薦使用 7-Zip 以 Deflate 模式, level 9, word size 256 壓縮。

## 關於安全技術

### 關於程式的安全性本質

1.  開放原始碼，採用 MIT 授權。
2.  單一獨立執行檔，未使用第三方庫與DLL。
3.  完全不需連網，可在獨立系統環境作業。

### 新 KDF 演算法：MAGI-Crypt (詳細說明請見 [介紹 MAGI-Crypt](MAGIC.md))

*  在 v2.0 後導入了新的 KDF 演算法「MAGI-Crypt」， Memory-hard Algorithm Guard Improve。
*  從 SHA-256 雜湊 200 萬次，提升到 SHA-512 雜湊 800 萬次。
*  加入了「記憶體困難」對抗暴力破解，KDF 時必須分配 256MB 記憶體，並且進行大量隨機未對齊讀寫。
*  與舊版 KDF 相比，執行速度幾乎不變。（4核心以上時）

### A.T. Field 保護模式（Administrator Task Field）（註1）

* 於工作排程器排程，開機後就讓程式進入保護狀態，以免被掉包、移動或是竄改內容。
* 僅限於執行檔本身，不含帳號資料。（這些資料只能破壞或刪除，無法竄改，要保護資料請自行設置權限與備份）

### 關於加密與儲存（核心安全技術）

1.  最終存檔以 AES256 CBC 模式加密，PKCS7 填充，雜湊值產生 IV。
2.  存檔資料會填入變動長度隨機資料，以混淆真實資料與密碼長度。
3.  可用任意檔案當作密碼，最大長度128MB。
4.  檔案自動填零複寫功能（存檔／刪除時）（註2）。
5.  可加鹽（選用）（註3）。

### 關於程式安全技術（註4）

1.  記憶體清洗，防護約 95% 的 Memory Retention Issue。
2.  安全桌面（Secure Desktop）導入，可抗鍵盤與畫面紀錄器。（註5）
3.  剪貼板監視阻斷技術導入（WM攔截）。
4.  SeLockMemoryPrivilege（註6）與 Windows error report disable。
5.  Windows 程式安全緩解政策。
6.  Windows 檔案簽名檢查。
7.  禁止畫面擷取。
8.  デバッガおよびローダーの検出。
9.  混合式熱鍵自動輸入模式。
10. 使用DPAPI保護。

### 關於操作安全功能（操作安全技術）

1.  閒置自動登出功能。
2.  用「複製貼上」輸入密碼，會詢問是否清除剪貼簿。

### 備註

1.  其實應該沒有針對本程式的攻擊，這單純就是Just for fun。
2.  僅適用於沒有啟用壓縮功能的傳統硬碟。要徹底安全，需要做全碟空間複寫（Wipe Free Space）。
3.  不同的加鹽，目錄是不能互相轉換的，只能使用CSV輸入輸出來交換，請特別注意。
4.  仍需執行於管理員權限等級，才能獲得較好的保護效果。最重要的原則還是系統必須保持安全不被入侵。
5.  如果遇到相容性問題，微軟新注音請啟用「舊版」選項。
6.  使用者需在 Windows 的「安全性原則」啟用 SeLockMemoryPrivilege。坦白說效用不明確，這個參數對 Windows 來說可能只是參考用。

## 問與答

*   Ｑ：為什麼要寫這個軟體？
*   Ａ：本來是自己用，後來寫一寫就覺得可以拿出來用。 
*   Ｑ：為什麼沒用 Argon2 這類抗 GPU 雜湊，而是自己寫 MAGI-Crypt？
*   Ａ：最簡單的理由是，SHA-512 是內建的函數，不用去處理第三方庫、不用附加 DLL。  
*   Ｑ：會有手機用、跨平台用版本嗎？
*   Ａ：我對於手機 App 開發不熟悉、也用不到，所以不會喔。    
*   Ｑ：線上掃毒說有病毒？
*   Ａ：由於採取了一些普通軟體較為少用的技術去處理安全性問題，被誤判也是在所難免。請於正確網址下載並檢查程式碼、並且信任本程式再使用。 
*   Ｑ：我忘記目錄密碼／加鹽了怎麼辦？
*   Ａ：那就完蛋了喔，我也完全沒辦法。所以目錄密碼與加鹽絕對不能忘。  
*   Ｑ：你能夠新增某某功能、修改某某用法嗎？
*   Ａ：除非軟體有很基本的 bug，不然本軟體應該就是這樣了，想要增加或改變什麼，請自己來吧，這是開放原始碼的。  
*   Ｑ：你寫的這什麼日文漢字，亂寫一通
*   Ａ：其實在有各種AI翻譯的幫助下，要寫出普通而正確的日文並不難，難在於要符合 Evangelion 那特別愛使用漢字的風格。我已經是盡力了。
*   Ｑ：為什麼只有在命令列參數可以加鹽，而密碼輸入介面卻沒有？命令列參數加鹽，很容易曝露不是嗎？
*   Ａ：「加鹽」可以想像成是額外擴充的密碼，如果你每次都要手動輸入加鹽，那就直接加長密碼就好了。
*   Ｑ：能夠自訂字型來美化介面嗎？
*   Ａ：沒辦法，因為在安全策略中禁止了。附加字型檔可能成為程式安全漏洞的來源。